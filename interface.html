
<html>
  <head>
  <script src="http://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js"></script>
  <link rel="stylesheet" href="http://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">


  <style>

  #instruction{
    position: absolute;
    top: 110px;
    left: 50px;
    font-family: Arial;
    font-size: 18px;
  }

  #timer{
    position: absolute;
    top: 100px;
    left: 900px;
    background-color: darkseagreen;
    padding: 10px;
    border: solid;
    font-size: 20px;
  }


  #timer-label{
    position: absolute;
    top: 75px;
    left: 900px;
    color: red;
    font-size: 15px;
    font-family: Arial;
    font-weight: bold;
  }

  #raw-steak{
    position: absolute;
    top: 350px;
    left: 290px;
    z-index: 2;
  }
  #raw-steak-img{
    height: 190px;
    width: 230px;
  }


  #frozen-steak{
    position: absolute;
    top: 20px;
    left: 400px;
    z-index: 2;
  }
  #frozen-steak-img{
    height: 50px;
    width: 70px;
  }


  #thyme{
    position: absolute;
    top: 85px;
    left: 395px;
    z-index: 2;
  }
  #thyme-img{
    height: 30px;
    width: 80px;
  }

  #uncut-butter{
    position: absolute;
    top: 35px;
    left: 500px;
    z-index: 2;
  }
  #uncut-butter-img{
    height: 60px;
    width: 70px;
  }

  #uncut-garlic{
    position: absolute;
    top: 130px;
    left: 410px;
    z-index: 2;
  }
  #uncut-garlic-img{
    height: 40px;
    width: 50px;
  }

  #salt{
    position: absolute;
    top: 120px;
    left: 500px;
    z-index: 2;
  }
  #salt-img{
    height: 50px;
    width: 20px;
  }

  #pepper{
    position: absolute;
    top: 105px;
    left: 550px;
    z-index: 2;
  }
  #pepper-img{
    height: 55px;
    width: 35px;
  }

  #olive-oil{
    position: absolute;
    top: 60px;
    left: 605px;
    z-index: 2;
  }
  #olive-oil-img{
    height: 100px;
    width: 40px;
  }


  #knife{
    position: absolute;
    top: 340px;
    left: 50px;
    height: 100px;
    width: 100px;
    z-index: 3;
  }
  #knife:hover{
    cursor: pointer;
  }



  .ingredient:hover{
    cursor: pointer;
  }


  .ingredient .description{
    visibility: hidden;
    width: 70px;
    background-color: black;
    color: white;
    text-align: center;
    border-radius: 6px;
    padding: 5px 0;
    position: absolute;
    z-index: 1;
    top: -5px;
    left: 110%;
  }

  .ingredient .description::after{
    content: "";
    position: absolute;
    top: 50%;
    right: 100%;
    margin-top: -5px;
    border-width: 5px;
    border-style: solid;
    border-color: transparent black transparent transparent;
  }

  .ingredient:hover .description{
    visibility: visible;
  }

  #arrow-steak{
    position: absolute;
    top: 220px;
    left: 215px;
    height: 16px;
    width: 350px;
    transform: rotate(280deg);
    z-index: 3;
  }



  #cutting-board{
    position: absolute;
    top: 350px;
    left: 200px;
    height: 200px;
    width: 400px;
    z-index: 1;
  }

  #empty-pan{
    position: absolute;
    top: 340px;
    left: 800px;
    height: 170px;
    width: 300px;
    z-index: 1;
  }


  #temperature{
    position: absolute;
    top: 520px;
    left: 860px;
  }
  .dot {
    height: 25px;
    width: 25px;
    border-radius: 50%;
    border-style: solid;
    margin: 5px;
    display: inline-block;
  }

  #low{
    background-color: lightgreen;
  }

  #med{
    background-color: orange;
  }

  #high{
    background-color: red;
  }



  #temperature-labels{
    position: absolute;
    top: 550px;
    left: 862px;

  }
  .label{
    font-weight: bold;
    font-size: 13px;
    margin: 8px;
  }

  .pop-up-style{
    position: absolute;
    top: 220px;
    left: 325px;
    height: 400px;
    width: 675px;
    background-color: ivory;
    border-style: solid;
    border-width: 2px;
    z-index: 5;
  }
  #cutting-board-small{
    position: absolute;
    top: 100px;
    left: 130px;
    height: 250px;
    width: 450px;
    z-index: 6;
  }

  .arrow-garlic-style{
    position: absolute;
    top: 267px;
    left: 357px;
    height: 16px;
    width: 270px;
    transform: rotate(245deg);
    z-index: 8;
  }

  .arrow-butter-style{
    position: absolute;
    top: 220px;
    left: 440px;
    height: 14px;
    width: 370px;
    transform: rotate(245deg);
    z-index: 8;
  }



#sub-instruction{
  position: relative;
  top: 20px;
  left: 410px;
  font-family: Arial;
  font-size: 18px;
}

#sub-alert{
  position: relative;
  top: 200px;
  left: 10px;
  width: 120px;
  font-family: Arial;
  color: red;
  font-size: 15px;
  font-weight: bold;
}



#popup-uncut-garlic{
  position: absolute;
  top: 170px;
  left: 200px;
  height: 70px;
  width: 80px;
  z-index: 7;
}


#popup-uncut-butter{
  position: absolute;
  top: 150px;
  left: 370px;
  height: 70px;
  width: 80px;
  z-index: 7;
}

#popup-cut-garlic{
  position: absolute;
  top: 170px;
  left: 200px;
  height: 70px;
  width: 80px;
  z-index: 7;
}

#popup-cut-butter{
  position: absolute;
  top: 150px;
  left: 370px;
  height: 70px;
  width: 80px;
  z-index: 7;
}


.popup-arrow-garlic-style{
  position: absolute;
  top: 400px;
  left: 410px;
  height: 16px;
  width: 150px;
  transform: rotate(200deg);
  z-index: 9;
}

.popup-arrow-butter-style{
  position: absolute;
  top: 360px;
  left: 435px;
  height: 14px;
  width: 325px;
  transform: rotate(185deg);
  z-index: 9;
}

#ingredients-label{
  position: relative;
  top: 15px;
  left: 400px;
  font-family: Arial;
  color: red;
  font-size: 15px;
  font-weight: bold;

}




  </style>


<script>


$(document).ready(function(){

  //counter
  let step=1;


  //Selected item is above other items while dragging
  $(".ingredient").mouseenter(
  function() {
    $(this).css("z-index", "4");
  }
  );

  $(".ingredient").mouseleave(
  function() {
    $(this).css("z-index", "2");
  }
  );

  //Draggable items
  $("#frozen-steak").draggable({
        revert: "invalid",
        start: function( event, ui ) {
          $("#frozen-steak").find(".description").hide();
        },
        stop: function( event, ui ) {
          $("#frozen-steak").find(".description").show();
        }
  });

  $("#thyme").draggable({
        revert: "invalid",
        start: function( event, ui ) {
          $("#thyme").find(".description").hide();
        },
        stop: function( event, ui ) {
          $("#thyme").find(".description").show();
        }
  });

  $("#uncut-butter").draggable({
        revert: "invalid",
        start: function( event, ui ) {
          $("#uncut-butter").find(".description").hide();
        },
        stop: function( event, ui ) {
          $("#uncut-butter").find(".description").show();
        }
  });

  $("#uncut-garlic").draggable({
        revert: "invalid",
        start: function( event, ui ) {
          $("#uncut-garlic").find(".description").hide();
        },
        stop: function( event, ui ) {
          $("#uncut-garlic").find(".description").show();
        }
  });

  $("#salt").draggable({
        revert: "invalid",
        start: function( event, ui ) {
          $("#salt").find(".description").hide();
        },
        stop: function( event, ui ) {
          $("#salt").find(".description").show();
        }
  });

  $("#pepper").draggable({
        revert: "invalid",
        start: function( event, ui ) {
          $("#pepper").find(".description").hide();
        },
        stop: function( event, ui ) {
          $("#pepper").find(".description").show();
        }
  });

  $("#olive-oil").draggable({
        revert: "invalid",
        start: function( event, ui ) {
          $("#olive-oil").find(".description").hide();
        },
        stop: function( event, ui ) {
          $("#olive-oil").find(".description").show();
        }
  });

  $("#knife").draggable({
        revert: "invalid"
  });


  //Droppable items
  $("#cutting-board").droppable({
    accept: false
  });

  $("#empty-pan").droppable({
    accept: false
  });


  //Droppable-conditions
  if(step==1){




    $("#instruction").html("(1)<b> UNTHAW </b>the frozen steak");


    $("#cutting-board").droppable( "option", "accept", "#frozen-steak");


    $("#cutting-board").on("drop", function( event, ui ) {
      $("#arrow-steak").hide();

      $("#frozen-steak").find(".description").remove();
      $("#frozen-steak").css("top", "370px");
      $("#frozen-steak").css("left", "300px");
      $("#frozen-steak-img").css("height", "160px");
      $("#frozen-steak-img").css("width", "220px");



      $("#timer").hover(
        function() {
          $("#timer").css("cursor","pointer");
        }
      );

      $("#timer").html("00:30:00");
      $("#timer-label").html("Start the timer!");




      $("#timer").click(function(){
        $("#timer-label").html("Timer is on, while you wait, you can cut your butter and garlic!");

        $(".ingredient").css("opacity", "0.5");
        $("#cutting-board").css("opacity", "0.5");
        $("#empty-pan").css("opacity", "0.5");
        $("#temperature").css("opacity", "0.5");
        $("#temperature-labels").css("opacity", "0.5");


        $("#uncut-butter").css("opacity", "1");
        $("#uncut-garlic").css("opacity", "1");
        $("#uncut-butter").css("z-index", "7");
        $("#uncut-garlic").css("z-index", "7");
        $("#uncut-butter").addClass("paste");
        $("#uncut-garlic").addClass("paste");

        $("#uncut-butter").mouseenter(
        function() {
          $(this).css("z-index", "9");
        }
        );

        $("#uncut-butter").mouseleave(
        function() {
          $(this).css("z-index", "7");
        }
        );

        $("#uncut-garlic").mouseenter(
        function() {
          $(this).css("z-index", "9");
        }
        );

        $("#uncut-garlic").mouseleave(
        function() {
          $(this).css("z-index", "7");
        }
        );





        $("#frozen-steak").css("top", "370px");
        $("#frozen-steak").css("left", "300px");



        $("#pop-up").addClass("pop-up-style");

        let sub_instruction = $("<div>");
        sub_instruction.attr("id", "sub-instruction");
        sub_instruction.html("<b>Cut</b> your butter and garlic");


        $("#pop-up").append(sub_instruction);


        let sub_alert = $("<div>");
        sub_alert.attr("id", "sub-alert");
        sub_alert.html("");

        $("#pop-up").append(sub_alert);



        $("#knife").css("left", "350px");
        $("#knife").css("z-index", "7");

        let board = $("<img>");
        board.attr("src", "images/cutting-board.png");
        board.attr("alt", "Small Cutting Board");
        board.attr("id", "cutting-board-small");

        $("#pop-up").append(board);

        let arrow_butter = $("<img>");
        arrow_butter.attr("src", "images/arrow.png");
        arrow_butter.attr("alt", "Arrow-butter");
        $(arrow_butter).addClass("arrow-butter-style");


        let arrow_garlic = $("<img>");
        arrow_garlic.attr("src", "images/arrow.png");
        arrow_garlic.attr("alt", "Arrow-garlic");
        $(arrow_garlic).addClass("arrow-garlic-style");


        $("#arrow-butter").append(arrow_butter);
        $("#arrow-garlic").append(arrow_garlic);


        $("#cutting-board-small").droppable({
          accept: ".paste"
        });

        let butter_check= false;
        let garlic_check= false;




        $("#cutting-board-small").on("drop", function(event, ui) {



            if(ui.draggable.attr("id")=="uncut-butter"){
              $("#arrow-butter").hide();
              $("#uncut-butter").hide();

              let butter = $("<img>");
              butter.attr("src", "images/uncut-butter.png");
              butter.attr("alt", "Uncut Butter");
              butter.attr("id", "popup-uncut-butter");

              $("#pop-up").append(butter);


              butter_check= true;
            }

            if(ui.draggable.attr("id")=="uncut-garlic"){
              $("#arrow-garlic").hide();
              $("#uncut-garlic").hide();

              let garlic = $("<img>");
              garlic.attr("src", "images/uncut-garlic.png");
              garlic.attr("alt", "Uncut Garlic");
              garlic.attr("id", "popup-uncut-garlic");

              $("#pop-up").append(garlic);




              garlic_check= true;
            }

            if(butter_check && garlic_check){
              $("#knife").css("transform","rotate(270deg)");

              $("#knife").mouseenter(
              function() {
                $(this).css("z-index", "9");
              }
              );

              $("#knife").mouseleave(
              function() {
                $(this).css("z-index", "7");
              }
              );

              let arrow_butter = $("<img>");
              arrow_butter.attr("src", "images/arrow.png");
              arrow_butter.attr("alt", "popup butter arrow");
              $(arrow_butter).addClass("popup-arrow-butter-style");

              $("#popup-arrow-butter").append(arrow_butter);

              let arrow_garlic = $("<img>");
              arrow_garlic.attr("src", "images/arrow.png");
              arrow_garlic.attr("alt", "popup garlic arrow");
              $(arrow_garlic).addClass("popup-arrow-garlic-style");

              $("#popup-arrow-garlic").append(arrow_garlic);


              $("#popup-uncut-garlic").droppable({
                accept: "#knife"
              });



              let garlic_cut=false;
              let butter_cut=false;


              function close_popup(){
                $("#pop-up").hide();
                $("#knife").hide();
                $("#ingredients-label").html("Butter and garlic is now ready!");

                $("#timer").off('click');


                $("#timer").hover(
                  function() {
                    $("#timer").css("cursor","default");
                  }
                );


              }

              $("#popup-uncut-garlic").on("drop", function(event, ui){
                  $("#popup-arrow-garlic").hide();
                  $("#popup-arrow-butter").hide();

                  $("#knife").css("top", "380px");
                  $("#knife").css("left", "470px");

                  $("#sub-alert").html("Click on the knife to cut");

                  $("#knife").click(function(){

                        garlic_cut=true;

                        $("#sub-alert").html("");

                        setTimeout(function() {
                            $("#knife").css("transform","rotate(300deg)");
                        }, 500);

                        setTimeout(function() {
                            $("#knife").css("transform","rotate(270deg)");
                        }, 1000);

                        setTimeout(function() {
                            $("#popup-uncut-garlic").hide();

                            let garlic = $("<img>");
                            garlic.attr("src", "images/cut-garlic.png");
                            garlic.attr("alt", "Cut Garlic");
                            garlic.attr("id", "popup-cut-garlic");

                            $("#pop-up").append(garlic);


                        }, 1300);



                        if(butter_cut){
                          setTimeout(function() {
                              close_popup();
                          }, 3300);


                        }


                  });




               });




               $("#popup-uncut-butter").droppable({
                 accept: "#knife"
               });


               $("#popup-uncut-butter").on("drop", function(event, ui){
                 $("#popup-arrow-garlic").hide();
                 $("#popup-arrow-butter").hide();

                 $("#sub-alert").html("Click on the knife to cut");

                 $("#knife").css("top", "347px");
                 $("#knife").css("left", "655px");

                 $("#knife").click(function(){

                      butter_cut=true;

                      $("#sub-alert").html("");

                       setTimeout(function() {
                           $("#knife").css("transform","rotate(300deg)");
                       }, 500);

                       setTimeout(function() {
                           $("#knife").css("transform","rotate(270deg)");
                       }, 1000);

                       setTimeout(function() {
                           $("#popup-uncut-butter").hide();

                           let butter = $("<img>");
                           butter.attr("src", "images/cut-butter.png");
                           butter.attr("alt", "Cut Butter");
                           butter.attr("id", "popup-cut-butter");

                           $("#pop-up").append(butter);


                       }, 1300);


                       if(garlic_cut){
                         setTimeout(function() {
                             close_popup();
                         }, 3300);
                       }
                 });






                });




            }



        });




        let minutes = 30;

        var countdown = setInterval(function(){
          minutes-=2
          $("#timer").html("00:".concat(minutes.toString().padStart(2, '0')).concat(":00"));
          if(minutes==0){
            clearInterval(countdown);

            $(".ingredient").css("opacity", "1");
            $("#cutting-board").css("opacity", "1");
            $("#empty-pan").css("opacity", "1");
            $("#temperature").css("opacity", "1");
            $("#temperature-labels").css("opacity", "1");


            $("#timer-label").html("The steak is now unthawed!");

            $("#frozen-steak").hide();

            let img = $("<img>");
            img.attr("src", "images/raw-steak.png");
            img.attr("alt", "Raw Steak");
            img.attr("id", "raw-steak-img");

            $("#raw-steak").append(img);

          }
        }, 1000);




      })





    } );





  }




});


</script>


  </head>
  <body>

  <div class="ingredient" id="frozen-steak">
      <img id="frozen-steak-img" src="images/frozen-steak.png" alt="Frozen Steak"> </img>
      <span class="description">Steak</span>
  </div>

  <div class="ingredient" id="thyme">
      <img id="thyme-img" src="images/thyme.png" alt="Thyme"> </img>
      <span class="description">Thyme</span>
  </div>
  <div class="ingredient" id="uncut-butter">
      <img id="uncut-butter-img" src="images/uncut-butter.png" alt="Uncut Butter"> </img>
      <span class="description">Butter</span>
  </div>
  <div class="ingredient" id="uncut-garlic">
      <img id="uncut-garlic-img" src="images/uncut-garlic.png" alt="Uncut Garlic"> </img>
      <span class="description">Garlic</span>
  </div>
  <div class="ingredient" id="salt">
      <img id="salt-img" src="images/salt.png" alt="Salt"> </img>
      <span class="description">Salt</span>
  </div>
  <div class="ingredient" id="pepper">
      <img id="pepper-img" src="images/pepper.png" alt="Pepper"> </img>
      <span class="description">Pepper</span>
  </div>
  <div class="ingredient" id="olive-oil">
      <img id="olive-oil-img" src="images/olive-oil.png" alt="Olive Oil"> </img>
      <span class="description">Olive Oil</span>
  </div>

  <img id="arrow-steak" src="images/arrow.png" alt="Arrow-steak"> </img>


  <div id="arrow-butter"> </div>
  <div id="arrow-garlic"> </div>

  <div id="popup-arrow-butter"> </div>
  <div id="popup-arrow-garlic"> </div>

  <div id="timer">
    00:00:00
  </div>
  <div id="timer-label"></div>



  <div id="instruction"> </div>

  <img id="knife" src="images/knife.png" alt="Knife"> </img>

  <div id="raw-steak"> </div>

  <img src="images/cutting-board.png" alt="Cutting Board" id="cutting-board"> </img>
  <img src="images/empty-pan.png" alt="Empty Pan" id="empty-pan"> </img>

  <div id="temperature">
  <span class="dot" id="low"></span>
  <span class="dot" id="med"></span>
  <span class="dot" id="high"></span>
  </div>
  <div id="temperature-labels">
  <span class="label">low</span>
  <span class="label">med</span>
  <span class="label">high</span>
  </div>

  <div id="ingredients-label"></div>

  <div id="pop-up"> </div>



  </body>
</html>
